# flats-bot-2
Bot collecting flats&rooms renting ads from various sources in Belarus

postgres

Общее

Сервис парсинга объявлений о сдаче квартир и комнат с разных ресурсов Беларуси. 
Взаимодействие через бота в телеграм @flats_minsk_bot
Выбираешь нужные параметры и ждешь. Как только кто-то выложит объявление, оно придет к тебе.
В данной версии доступен выбор
-города
-цены
-количества комнат
-расстояние до метро (для минска)
-собственник или агентство
-район по точке на карте и радиусу


Структура

Информация о пользователях и их параметры хранятся в postgresql, схема которой в schema.qsl
requirements.txt - нужные библиотеки
.env.example - пример файла с чувствительными данными, который должен быть создан в корневой директории проекта  (.env)
src - исходный код на языке python


Код
В src находятся папки
bot - telegram bot - для выбора параметров поиска
service - полинг сервисов и отправка сообщений
shared - общие модули для бота и сервиса поллинга


Не стесняйтесь писать с любыми вопросами, предложениями и замечаниями


В базе данных фильтры пользователя хранятся в JSON params, где

minCost: int
maxCost: int
town: str - [любое значение - тогда проверка по точному совпадению либо "Вся Беларусь"]
landlord: str ['Не важно', 'Агентсво', 'Собственник']
rooms: array[str], значения могут быть ['1', '2', '3', '4', 'Комната']
isSubwayNeed: bool
subways: array[str], ['0' ... '32']
subway_dist: int (9999999 при неважно)
isPointNeed: bool
lat: float
lon: float
point_dist: int


в корневой директории
pwd
и добавить результат в .env

работает в редис 2

скоро будет нормальный ридми. обещаю
